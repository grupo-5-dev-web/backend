# =============================================================================
# CONFIGURAÇÃO DE VARIÁVEIS DE AMBIENTE
# =============================================================================
# 
# INSTRUÇÕES:
# 1. Copie este arquivo para .env: cp .env.example .env
# 2. Configure os valores apropriados para seu ambiente
# 3. NUNCA commite o arquivo .env no git (ele está no .gitignore)
# 4. Execute scripts/validate_env.sh para validar sua configuração
#
# =============================================================================

# -----------------------------------------------------------------------------
# POSTGRESQL - Credenciais Gerais
# -----------------------------------------------------------------------------
# Usuário padrão para todos os bancos de dados PostgreSQL
POSTGRES_USER=user

# Senha padrão para todos os bancos de dados PostgreSQL
# ⚠️ IMPORTANTE: Altere esta senha em produção!
POSTGRES_PASSWORD=password

# -----------------------------------------------------------------------------
# POSTGRESQL - Nomes dos Bancos de Dados
# -----------------------------------------------------------------------------
# Nome do banco de dados do serviço User
POSTGRES_DB_USER=userdb

# Nome do banco de dados do serviço Tenant
POSTGRES_DB_TENANT=tenantdb

# Nome do banco de dados do serviço Resource
POSTGRES_DB_RESOURCE=resourcedb

# Nome do banco de dados do serviço Booking
POSTGRES_DB_BOOKING=bookingdb

# -----------------------------------------------------------------------------
# POSTGRESQL - URLs Completas (Opcional)
# -----------------------------------------------------------------------------
# Se definidas, estas URLs sobrescrevem a construção automática
# Formato: postgresql://user:password@host:port/database
# USER_DATABASE_URL=postgresql://user:password@db_user:5432/userdb
# TENANT_DATABASE_URL=postgresql://user:password@db_tenant:5432/tenantdb
# RESOURCE_DATABASE_URL=postgresql://user:password@db_resource:5432/resourcedb
# BOOKING_DATABASE_URL=postgresql://user:password@db_booking:5432/bookingdb

# -----------------------------------------------------------------------------
# REDIS
# -----------------------------------------------------------------------------
# URL de conexão com Redis
# Formato: redis://host:port ou redis://:password@host:port
REDIS_URL=redis://redis:6379

# Senha do Redis (opcional, para uso futuro)
# REDIS_PASSWORD=

# -----------------------------------------------------------------------------
# JWT / SEGURANÇA
# -----------------------------------------------------------------------------
# Chave secreta para assinatura de tokens JWT
# ⚠️ IMPORTANTE: Gere uma chave segura em produção!
# Use: openssl rand -hex 64
SECRET_KEY=CHANGE_ME_IN_PRODUCTION_GENERATE_WITH_openssl_rand_hex_64

# Algoritmo usado para assinatura JWT
JWT_ALGORITHM=HS512

# Tempo de expiração do token de acesso em horas
ACCESS_TOKEN_EXPIRE_HOURS=24

# -----------------------------------------------------------------------------
# APLICAÇÃO
# -----------------------------------------------------------------------------
# Host onde a aplicação será executada
APP_HOST=0.0.0.0

# Porta onde a aplicação será executada
APP_PORT=8000

# Nome do stream de eventos (Redis Streams)
EVENT_STREAM=booking-events

# -----------------------------------------------------------------------------
# SERVIÇOS - URLs de Comunicação Interna
# -----------------------------------------------------------------------------
# URL do serviço Tenant (para comunicação entre serviços)
TENANT_SERVICE_URL=http://tenant:8000

# URL do serviço Resource (para comunicação entre serviços)
RESOURCE_SERVICE_URL=http://resource:8000

# URL do serviço User (para comunicação entre serviços)
USER_SERVICE_URL=http://user:8000

# URL do serviço Booking (para comunicação entre serviços)
BOOKING_SERVICE_URL=http://booking:8000

# -----------------------------------------------------------------------------
# PATHS DE APLICAÇÃO
# -----------------------------------------------------------------------------
# Root path do serviço User
APP_ROOT_PATH_USER=/users

# Root path do serviço Tenant
APP_ROOT_PATH_TENANT=/tenants

# Root path do serviço Resource
APP_ROOT_PATH_RESOURCE=/resources

# Root path do serviço Booking
APP_ROOT_PATH_BOOKING=/bookings

# -----------------------------------------------------------------------------
# CORS (Cross-Origin Resource Sharing)
# -----------------------------------------------------------------------------
# Ambiente (development, production)
# Em development: permite todos os domínios (*)
# Em production: requer CORS_ORIGINS configurado
ENVIRONMENT=development

# Domínios permitidos em produção (separados por vírgula)
# ⚠️ OBRIGATÓRIO em produção!
# Exemplo: CORS_ORIGINS=https://app.example.com,https://admin.example.com
CORS_ORIGINS=

# Permitir credenciais (cookies, authorization headers) em requisições CORS
# ⚠️ Nota: Não pode ser true quando CORS_ORIGINS contém "*"
CORS_ALLOW_CREDENTIALS=false

# Tempo de cache para preflight requests (em segundos)
# Default: 600 (10 minutos)
CORS_MAX_AGE=600

# -----------------------------------------------------------------------------
# CACHE REDIS - TTL (Time To Live)
# -----------------------------------------------------------------------------
# TTL para cache de OrganizationSettings (em segundos)
# Default: 300 (5 minutos)
CACHE_TTL_SETTINGS=300

# TTL para cache de disponibilidade de recursos (em segundos)
# Default: 300 (5 minutos)
# Nota: Disponibilidade muda quando bookings são criados/cancelados
CACHE_TTL_AVAILABILITY=300
